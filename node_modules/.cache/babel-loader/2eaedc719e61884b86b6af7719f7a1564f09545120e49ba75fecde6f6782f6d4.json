{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{initializeApp}from'firebase/app';import{getAuth,onAuthStateChanged}from'firebase/auth';import{getAnalytics}from'firebase/analytics';import{Toaster}from'react-hot-toast';import LoginPage from'./pages/LoginPage';import Dashboard from'./pages/Dashboard';import LoadingSpinner from'./components/LoadingSpinner';// Firebase configuration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyB7trQBZpwCCp4XxNYGCevoJSoltJAwED0\",authDomain:\"buyboxbot-3cd51.firebaseapp.com\",projectId:\"buyboxbot-3cd51\",storageBucket:\"buyboxbot-3cd51.firebasestorage.app\",messagingSenderId:\"114425801855\",appId:\"1:114425801855:web:c163fc64d6eac1e2a7e34a\",measurementId:\"G-53BF1EVKGM\"};// Initialize Firebase\nconst app=initializeApp(firebaseConfig);const auth=getAuth(app);const analytics=getAnalytics(app);// Add this console log to see if Firebase is initialized\nconsole.log('Firebase app:',app);console.log('Firebase auth:',auth);function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,user=>{setUser(user);setLoading(false);// Store user ID in localStorage for API calls\nif(user){localStorage.setItem('userId',user.uid);}else{localStorage.removeItem('userId');}});return()=>unsubscribe();},[]);if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,iconTheme:{primary:'#10B981',secondary:'#fff'}},error:{duration:5000,iconTheme:{primary:'#EF4444',secondary:'#fff'}}}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(LoginPage,{auth:auth})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{auth:auth,user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:user?\"/dashboard\":\"/login\"})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","initializeApp","getAuth","onAuthStateChanged","getAnalytics","Toaster","LoginPage","Dashboard","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","analytics","console","log","App","user","setUser","loading","setLoading","unsubscribe","localStorage","setItem","uid","removeItem","children","className","position","toastOptions","duration","style","background","color","success","iconTheme","primary","secondary","error","path","element","to"],"sources":["/Users/nickprice/buybox-bot-lite/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { getAnalytics } from 'firebase/analytics';\nimport { Toaster } from 'react-hot-toast';\n\nimport LoginPage from './pages/LoginPage';\nimport Dashboard from './pages/Dashboard';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB7trQBZpwCCp4XxNYGCevoJSoltJAwED0\",\n  authDomain: \"buyboxbot-3cd51.firebaseapp.com\",\n  projectId: \"buyboxbot-3cd51\",\n  storageBucket: \"buyboxbot-3cd51.firebasestorage.app\",\n  messagingSenderId: \"114425801855\",\n  appId: \"1:114425801855:web:c163fc64d6eac1e2a7e34a\",\n  measurementId: \"G-53BF1EVKGM\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst analytics = getAnalytics(app);\n\n// Add this console log to see if Firebase is initialized\nconsole.log('Firebase app:', app);\nconsole.log('Firebase auth:', auth);\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n      \n      // Store user ID in localStorage for API calls\n      if (user) {\n        localStorage.setItem('userId', user.uid);\n      } else {\n        localStorage.removeItem('userId');\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: '#363636',\n              color: '#fff',\n            },\n            success: {\n              duration: 3000,\n              iconTheme: {\n                primary: '#10B981',\n                secondary: '#fff',\n              },\n            },\n            error: {\n              duration: 5000,\n              iconTheme: {\n                primary: '#EF4444',\n                secondary: '#fff',\n              },\n            },\n          }}\n        />\n        \n        <Routes>\n          <Route \n            path=\"/login\" \n            element={user ? <Navigate to=\"/dashboard\" /> : <LoginPage auth={auth} />} \n          />\n          <Route \n            path=\"/dashboard\" \n            element={user ? <Dashboard auth={auth} user={user} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/\" \n            element={<Navigate to={user ? \"/dashboard\" : \"/login\"} />} \n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}